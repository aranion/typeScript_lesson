"use strict";
exports.__esModule = true;
var sdk_provider_js_1 = require("./providers/sdk/sdk-provider.js");
var fakeAPI_provider_js_1 = require("./providers/fakeAPI/fakeAPI-provider.js");
var providers = [
    new fakeAPI_provider_js_1.FakeAPIProvider(),
    new sdk_provider_js_1.SDKProvider()
];
var filter = {
    city: 'Санкт-Петербург',
    checkInDate: new Date(),
    checkOutDate: new Date(),
    priceLimit: 4500
};
function sortByPrice(one, two) {
    if (one.price > two.price) {
        return 1;
    }
    else if (one.price < two.price) {
        return -1;
    }
    else {
        return 0;
    }
}
Promise.all(providers.map(function (provider) { return provider.find(filter); })).then(function (results) {
    var allResults = [].concat.apply([], results);
    allResults.sort(sortByPrice);
});
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW5kZXguanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJpbmRleC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUVBLG1FQUE4RDtBQUM5RCwrRUFBeUU7QUFFekUsSUFBTSxTQUFTLEdBQUc7SUFDaEIsSUFBSSxxQ0FBZSxFQUFFO0lBQ3JCLElBQUksNkJBQVcsRUFBRTtDQUNsQixDQUFDO0FBRUYsSUFBTSxNQUFNLEdBQWlCO0lBQzNCLElBQUksRUFBRSxpQkFBaUI7SUFDdkIsV0FBVyxFQUFFLElBQUksSUFBSSxFQUFFO0lBQ3ZCLFlBQVksRUFBRSxJQUFJLElBQUksRUFBRTtJQUN4QixVQUFVLEVBQUUsSUFBSTtDQUNqQixDQUFBO0FBRUQsU0FBUyxXQUFXLENBQUMsR0FBVSxFQUFFLEdBQVU7SUFDekMsSUFBSSxHQUFHLENBQUMsS0FBSyxHQUFHLEdBQUcsQ0FBQyxLQUFLLEVBQUU7UUFDekIsT0FBTyxDQUFDLENBQUE7S0FDVDtTQUFNLElBQUksR0FBRyxDQUFDLEtBQUssR0FBRyxHQUFHLENBQUMsS0FBSyxFQUFFO1FBQ2hDLE9BQU8sQ0FBQyxDQUFDLENBQUE7S0FDVjtTQUFNO1FBQ0wsT0FBTyxDQUFDLENBQUE7S0FDVDtBQUNILENBQUM7QUFFRCxPQUFPLENBQUMsR0FBRyxDQUNULFNBQVMsQ0FBQyxHQUFHLENBQUMsVUFBQSxRQUFRLElBQUksT0FBQSxRQUFRLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxFQUFyQixDQUFxQixDQUFDLENBQ2pELENBQUMsSUFBSSxDQUFDLFVBQUMsT0FBTztJQUNiLElBQU0sVUFBVSxHQUFZLEVBQUUsQ0FBQyxNQUFNLE9BQVQsRUFBRSxFQUFXLE9BQU8sQ0FBQyxDQUFDO0lBQ2xELFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7QUFDL0IsQ0FBQyxDQUFDLENBQUMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQbGFjZSB9IGZyb20gJy4vZG9tYWluL3BsYWNlLmpzJztcbmltcG9ydCB7IFNlYXJjaEZpbHRlciB9IGZyb20gJy4vZG9tYWluL3NlYXJjaC1maWx0ZXIuanMnO1xuaW1wb3J0IHsgU0RLUHJvdmlkZXIgfSBmcm9tICcuL3Byb3ZpZGVycy9zZGsvc2RrLXByb3ZpZGVyLmpzJztcbmltcG9ydCB7IEZha2VBUElQcm92aWRlciB9IGZyb20gJy4vcHJvdmlkZXJzL2Zha2VBUEkvZmFrZUFQSS1wcm92aWRlci5qcydcblxuY29uc3QgcHJvdmlkZXJzID0gW1xuICBuZXcgRmFrZUFQSVByb3ZpZGVyKCksXG4gIG5ldyBTREtQcm92aWRlcigpXG5dO1xuXG5jb25zdCBmaWx0ZXI6IFNlYXJjaEZpbHRlciA9IHtcbiAgY2l0eTogJ9Ch0LDQvdC60YIt0J/QtdGC0LXRgNCx0YPRgNCzJyxcbiAgY2hlY2tJbkRhdGU6IG5ldyBEYXRlKCksXG4gIGNoZWNrT3V0RGF0ZTogbmV3IERhdGUoKSxcbiAgcHJpY2VMaW1pdDogNDUwMFxufVxuXG5mdW5jdGlvbiBzb3J0QnlQcmljZShvbmU6IFBsYWNlLCB0d286IFBsYWNlKTogMSB8IC0xIHwgMCB7XG4gIGlmIChvbmUucHJpY2UgPiB0d28ucHJpY2UpIHtcbiAgICByZXR1cm4gMVxuICB9IGVsc2UgaWYgKG9uZS5wcmljZSA8IHR3by5wcmljZSkge1xuICAgIHJldHVybiAtMVxuICB9IGVsc2Uge1xuICAgIHJldHVybiAwXG4gIH1cbn1cblxuUHJvbWlzZS5hbGwoXG4gIHByb3ZpZGVycy5tYXAocHJvdmlkZXIgPT4gcHJvdmlkZXIuZmluZChmaWx0ZXIpKVxuKS50aGVuKChyZXN1bHRzKSA9PiB7XG4gIGNvbnN0IGFsbFJlc3VsdHM6IFBsYWNlW10gPSBbXS5jb25jYXQoLi4ucmVzdWx0cyk7XG4gIGFsbFJlc3VsdHMuc29ydChzb3J0QnlQcmljZSk7XG59KTtcbiJdfQ==